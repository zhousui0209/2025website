<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作品集</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Font: Iansui -->
    <link href="https://fonts.googleapis.com/css2?family=Iansui&display=swap" rel="stylesheet">

    <!-- Custom Pure CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

<!-- ░░░░░ Header 導覽列 ░░░░░ -->
<header class="site-header shadow-sm">
    <div class="container d-flex justify-content-between align-items-center py-3">

        <a href="#" class="logo">
            <span class="highlight">F</span>inal
        </a>

        <!-- Desktop Nav -->
        <nav class="d-none d-md-flex align-items-center gap-3">
            <a href="index.html" class="nav-item-link">首頁</a>
            <a href="gallery1.html" class="nav-item-link">作業展示</a>
            <a href="gallery2.html" class="nav-item-link">同人作品</a>
        </nav>

        <!-- Mobile Menu Toggle -->
        <button class="mobile-toggle d-md-none" data-bs-toggle="collapse" data-bs-target="#mobileNav">
            <i class="fa fa-bars"></i>
        </button>

    </div>

    <!-- Mobile Menu -->
    <div id="mobileNav" class="collapse mobile-nav">
        <nav class="d-flex flex-column gap-3 p-4">
            <a href="index.html" class="nav-item-link">首頁</a>
            <a href="gallery1.html" class="nav-item-link">作業展示</a>
            <a href="gallery2.html" class="nav-item-link">同人作品</a>
        </nav>
    </div>
</header>

<!-- ░░░░░ 主輪播區 ░░░░░ -->
<!-- ░░░░░ 主輪播區 ░░░░░ -->
<section id="heroCarousel"
         class="hero-section carousel slide"
         data-bs-ride="false">

    <!-- Indicators -->
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
    </div>

    <!-- Slides -->
    <div class="carousel-inner h-100">

        <!-- Slide 1 -->
        <div class="carousel-item active h-100">
            <div class="d-flex flex-column flex-md-row h-100">
                <div class="hero-image-wrap">
                    <img src="images/final-1.png" class="hero-image">
                </div>
                <div class="hero-content">
                    <h2 class="hero-title">藏刀</h2>
                    <p class="hero-text">又是這個，看的出來沒什麼拿得出手的作業。</p>
                </div>
            </div>
        </div>

        <!-- Slide 2 -->
        <div class="carousel-item h-100">
            <div class="d-flex flex-column flex-md-row h-100">
                <div class="hero-image-wrap">
                    <img src="images/final-2.png" class="hero-image">
                </div>
                <div class="hero-content">
                    <h2 class="hero-title">布袋戲同人</h2>
                    <p class="hero-text">誰來看一下墨武俠鋒。</p>
                </div>
            </div>
        </div>

        <!-- Slide 3 -->
        <div class="carousel-item h-100">
            <div class="d-flex flex-column flex-md-row h-100">
                <div class="hero-image-wrap">
                    <img src="images/final-3.png" class="hero-image">
                </div>
                <div class="hero-content">
                    <h2 class="hero-title">ㄠㄊㄕㄐ同人</h2>
                    <p class="hero-text">不想打出作品名，因為實在有點丟臉，這張還沒畫完。</p>
                </div>
            </div>
        </div>

    </div>

    <!-- Controls -->
    <button class="carousel-control-prev" type="button"
            data-bs-target="#heroCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </button>

    <button class="carousel-control-next" type="button"
            data-bs-target="#heroCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
    </button>

</section>

   <!-- ░░░░░ 精選作品 ░░░░░ -->
<section class="featured-section container py-5">

    <div class="text-center mb-5">
        <h2 class="section-title">作品展示</h2>
        <p class="section-subtitle">記錄自己學習期間的繪畫作品，包括原創插畫、同人創作等等。</p>
    </div>

    <div class="row g-4">

        <!-- Card 1 -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="work-card">
                <div class="work-image-wrap">
                    <img src="images/final-4.png" class="work-image">
                </div>
                <div class="work-info">
                    <h3 class="work-title">藏刀靈異if線</h3>
                    <p class="work-tag">死後的學姊帶著關鍵道具返場(?<br>(2025/02)</p>
                </div>
            </div>
        </div>

        <!-- Card 2 -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="work-card">
                <div class="work-image-wrap">
                    <img src="images/final-5.png" class="work-image">
                </div>
                <div class="work-info">
                    <h3 class="work-title">修月</h3>
                    <p class="work-tag">不小心吃到了10年沒見面的CP。<br>(2024/10)</p>
                </div>
            </div>
        </div>

        <!-- Card 3 -->
        <div class="col-12 col-md-6 col-lg-4">
            <div class="work-card">
                <div class="work-image-wrap">
                    <img src="images/final-6.png" class="work-image">
                </div>
                <div class="work-info">
                    <h3 class="work-title">梅菲斯特系列仿官</h3>
                    <p class="work-tag">惡魔的形象是契約者慾望的倒影。<br>(2025/11)</p>
        
                </div>
            </div>
        </div>

    </div>
</section>

<section class="messages-section container py-5" id="messagesSection">
    <div class="text-center mb-4">
        <h2 class="section-title">提問箱</h2>
        <p class="section-subtitle">所有留言都會公開展示</p>
    </div>

    <div class="mb-4">
        <form id="messageForm" class="text-center">
            <div class="mb-3">
                <textarea
                    class="form-control"
                    id="messageInput"
                    placeholder="輸入你的留言..."
                    rows="3"
                    required></textarea>
            </div>
            <button type="submit" class="btn-send">送出留言</button>
        </form>
    </div>

    <div id="messageList" class="list-group"></div>
</section>

<script>
const messageForm = document.getElementById("messageForm");
const messageInput = document.getElementById("messageInput");
const messageList = document.getElementById("messageList");

// 送出留言
messageForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const content = messageInput.value.trim();
    if (!content) return;

    await fetch("http://localhost:3000/messages", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ content })
    });

    messageInput.value = "";
    loadMessages();
});

// 載入留言
async function loadMessages() {
    const res = await fetch("http://localhost:3000/messages");
    const messages = await res.json();

    messageList.innerHTML = "";

    messages.forEach(msg => {
        const item = document.createElement("div");
        item.className = "list-group-item d-flex justify-content-between align-items-center";

        // 留言文字
        const text = document.createElement("span");
        text.textContent = msg.content;

        // 刪除按鈕
        const delBtn = document.createElement("button");
        delBtn.className = "btn btn-sm btn-danger ms-3";
        delBtn.textContent = "刪除";

        delBtn.onclick = async () => {
            const pwd = prompt("輸入後台密碼刪除留言：");
            if (!pwd) return;

            const res = await fetch(`http://localhost:3000/messages/${msg.id}`, {
                method: "DELETE",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ adminPassword: pwd })
            });

            const result = await res.json();
            if (result.success) loadMessages();
            else alert(result.error);
        };

        item.appendChild(text);
        item.appendChild(delBtn);
        messageList.appendChild(item);
    });
}

loadMessages();
</script>




<!-- ░░░░░ Footer ░░░░░ -->
<footer class="site-footer">
    <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">

        <div>
            <h3 class="footer-logo"><span class="highlight">F</span>inal</h3>
            <p class="footer-subtext">我還沒決定這裡要寫什麼</p>
        </div>

        <div class="text-center text-md-end">
            <div class="social-group mb-3">
                <a href="#" class="social-btn"><i class="fa fa-instagram"></i></a>
                <a href="#" class="social-btn"><i class="fa fa-behance"></i></a>
                <a href="#" class="social-btn"><i class="fa fa-dribbble"></i></a>
                <a href="#" class="social-btn"><i class="fa fa-envelope"></i></a>
            </div>
        </div>

    </div>
</footer>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
